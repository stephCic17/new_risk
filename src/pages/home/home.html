<!-- <ion-header>
<ion-navbar>
<ion-title>Ciconia</ion-title>
</ion-navbar>
</ion-header> -->

<ion-content>
  <div [ngClass]="{'visible': currentStep != 0, counter: true }">
    {{ currentStep }} / {{ totalStep }}
  </div>
  <div class="result-info">
    <label>Résultats</label><i class="result-info-icon icon icon-gift"></i>
  </div>
  <div [ngClass]="{'visible': currentStep != 0, progress: true }">
    <div class="bar" ng-change="totalStep" [ngStyle]="{'width': (100 / totalStep) * currentStep + '%'}" ></div>
  </div>
  <div class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-label">Fiche info</div>
    <div class="modal-close-button touch"><i class="icon icon-cross"></i></div>
    <div class="modal-content">
      <h3>Alcool</h3>
      <p>Comme on ignore si de petites doses sont toxiques, on préfère dire que <b>toute consommation est déconseillée</b>. Une prise de boissons alcoolisées, <b>même en petite quantité</b> ou <b>même une seule fois en grande quantité</b>, pourrait être <b>nocive</b> pour le foetus.</p>
      <p>En cas de besoin, vous pouvez joindre <b>Ecoute Alcool</b> au <a href="tel:05454545">0811 91 30 30</a>.</p>
    </div>
  </div>
  <!-- <div [ngClass]="{'visible': currentStep != 0, next: true }" >
    <button class="button back-button touch" (click)="prev()"><i class="icon icon-chevron-left"></i>Retour</button>
    <button class="button next-button touch" (click)="handleNext()">Suivant</button>
  </div> -->
  <ion-slides #sliderOne (slider)="false" (ionSlideDidChange)="ionSlideDidChange()" (ionSlideWillChange)="ionSlideWillChange()">

    <ion-slide>

      <div class="welcome">
        <div [ngClass]="{'visible': activeLogoWrapper, 'slide-wrapper logo-wrapper': true }">
          <div [ngClass]="{'logo--active': activeLogo, logo: true }"></div>
        </div>
        <div class="slide-wrapper welcome-wrapper">
          <div [ngClass]="{'visible': activeWelcomeContent, 'welcome-content': true }">
            <h2>Bienvenue !</h2>
            <p><b>Ciconia</b> est une application de sante dediée à la <b>grossesse en cours</b> ou <b>future</b>. Elle <b>évalue</b> si vous êtes à bas risque ou à haut risque.  Elle calcule aussi si vous etes éxposée à faire une depression post natale. </p>
            <button class="button touch" (click)="next()">Commencer</button>
            <div class="swipe-helper"><i class="icon icon-fingers-scroll-horizontal"></i></div>
          </div>
        </div>
      </div>

    </ion-slide>
    <div class="form-wrapper" *ngFor="let question of Questions; let i of index">
      <form id={{question.idForm}} [ngClass]="{'form-wrapper--hidden': changing, 'form-wrapper': true }" novalidate>
        <ion-slide *ngIf="question.type == 'number'">
          <h3>{{question.title}}</h3>
          <input type="number" name="number" [(ngModel)]="number" required>
        </ion-slide>
        <ion-slide *ngIf="question.type == 'yesNoIdn'">
          <h3>{{question.title}}</h3>
          <div class="checkbox">
            <input id="radio{{i}}-1" type="checkbox" name="radio{{i}}-1" [(ngModel)]="yes">
            <label for="radio{{i}}-1">Oui</label>
          </div>
          <div class="checkbox">
            <input id="radio{{i}}-2" type="checkbox" name="radio{{i}}-2" [(ngModel)]="no">
            <label for="radio{{i}}-2">Non</label>
          </div>
          <div class="checkbox checkbox--large">
            <input id="radio{{i}}-3" type="checkbox" name="radio{{i}}-3" [(ngModel)]="idn">
            <label for="radio{{i}}-3">Je ne sais pas</label>
          </div>
        </ion-slide>
        <ion-slide *ngIf="question.type == 'yesNo'">
          <h3>{{question.title}}</h3>
          <div class="checkbox">
            <input id="radio{{i}}-1" type="checkbox" name="checkbox{{i}}-1" [(ngModel)]="yes">
            <label for="radio{{i}}-1">Oui</label>
          </div>
          <div class="checkbox">
            <input id="radio{{i}}-2" type="checkbox" name="checkbox{{i}}-2" [(ngModel)]="no">
            <label for="radio{{i}}-2">Non</label>
          </div>
        </ion-slide>

        <ion-slide *ngIf="question.type == 'date'">
          <h3>{{question.title}}</h3>
          <input type="date" name="date" [(ngModel)]="date">
        </ion-slide>
        <div [ngClass]="{'visible': currentStep != 0, next: true }" >
          <button #realFormButton class="button next-button touch" (click)="nextForm(question)">Suivant</button>
        </div>
      </form>

    </div>


  </ion-slides>

</ion-content>
